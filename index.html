
<!DOCTYPE HTML>
<html>
<head>
  <!-- google font -->
  <link href="https://fonts.googleapis.com/css2?family=Baloo+Tamma+2&display=swap" rel="stylesheet">

  <!--javascript-->
  <!-- the script that runs the viewer. Download from the sketchfab website -->
  <!-- must be called before the initialization code below
  <script type="text/javascript" src="https://static.sketchfab.com/api/sketchfab-viewer-1.8.2.js"></script> -->
  <script type="text/javascript" src="javascript/sketchfab-viewer-1.8.2.js"></script>

  <!-- the script. includes a call to the sketchfab api script required
       requires certain variables passed, such as uid of the model to be used etc. other data like textures it picks from the html ids -->
  <script id="texture_mixer" type="text/javascript" src="javascript/skfb_texture_swap.js"
          data-max="4096"
          data-mid="1024"
          data-min="256"
          data-uid="cf6fc4749a8344fd9674b6ce17b48593"
          data-ver="1.8.2">
  </script>


  <!-- the stylesheet -->
  <link rel="stylesheet" type ="text/css" href="styles/skfb_texture_swap.css">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SketchFab API texture mixer test</title>
</head>

<body>
    <header>
      <h1>Sketchfab API texture mixer (v0.04)</h1>
    </header>



<!-- findme: the gubbins -->

    <!-- images used as textures. This is a simple way to load and cache them (and debug. If you don't want to show them, add hidden to the class) -->
    <!-- the id should be the same, but the source can be whatever you like-->
    <img id="texture1" src = "images/texture2.jpg" class="hidden" />
    <img id="texture2" src = "images/texture1.jpg" class="hidden" />
    <!-- findme todo: - make it work for multiple materials -->
    <div id="skfb_frame">
      <!-- this section displays the model via the sketchfab servers-->
      <iframe src="" id="api-frame" allowfullscreen mozallowfullscreen="true" webkitallowfullscreen="true" allow="vr"></iframe>

      <div id="loading" class="description loading controls">
        waiting for it all to load...
      </div>
      <!-- the slider controller -->
      <div id = "slider-container" class="slider-container invisible viewer-controls">
        <!--findme:  mouse events are used to swap the canvas to smaller size while sliding (faster) requires the skfb_texture_swap.js -->
        <!--findme:  the contents of this div is moved into the sketchfab api gui -->
        <input type="range" min="1" max="100" value="100" class="swap-slider"
          id="swap-slider">
      </div>
      <button class="button centre invisible viewer-controls" style= "width:35x; height: 35px;" id="btnFullScreen">
        <span>+</span>
      </button>
    </div>

    <!-- the controls and preview images, hidden until the sketchfab model has loaded-->
    <div id = "swapper-controls" class="invisible viewer-controls">
      <!-- preview images either side of the slider as a guide could be the texture files if you want-->
      <img id="preview1" class="preview left" src = "images/preview2.jpg"  />
      <img id="preview2" class="preview right" src = "images/preview1.jpg" />
      <!-- a mega-detail button - ups the texture displayed while held (be patient) -->
      <div id="btnDetail" class="button centre">
        <span id="sliderValue" class="centre" alt"load big res texture">sharp</span>
      </div>
      <div class="mode-controls">
        <span class="label">Mode</span> <br/>
        <span class="label">channel mixer</span>
        <label class="switch">
          <input id = "mode-toggle" type="checkbox">
        <span class="mode-toggle round"></span>
      </label>
      <span class="label">canvas mixer</span>
    </div>
    </div>

    <div class="description">
      <p>
        A brief foray into the Sketchfab API for the mixing of 2 textures. <br />
      </p>

      <p>
        Default method uses the 'Emit' channel. <br />
        This is faster, but emit map needs to be loaded and set at 0.01 in SketchFab <br />
      </p>

      <p>
        Second (original) method uses a hidden canvas to mix textures. <br />
        Lo fi texture used while sliding. (may require 'disable local-file restrictions')
      </p>


      <p>
        Additional comments in source.<br />
      </p>
      <p>
        More yet to be done. Chip in on  <a href ="https://github.com/hairystickman/skfb_texture_swap">Github </a>
      </p>
      <img src="images/hsmp-inproduction.png" width="500" style= "margin-top:100px;">
    </div>



  <footer>
    <!-- other stuff, more logos etc-->
  </footer>
</body>
